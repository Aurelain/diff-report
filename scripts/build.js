const {execSync} = require('child_process');
const sendkeys = require('sendkeys-js');

// =====================================================================================================================
//  P U B L I C
// =====================================================================================================================
/**
 *
 */
const build = async () => {
    execSync('webpack --mode production', {stdio: 'inherit'});

    // const open = (await import('open')).default;
    // await open('dist/index.html');

    sendkeys.activate('Google Chrome');
    await sleep(100);
    sendkeys.send('^r');
    sendkeys.activate('diff-report');
};

// =====================================================================================================================
//  P R I V A T E
// =====================================================================================================================
/**
 *
 */
const sleep = (ms) => {
    return new Promise((resolve) => setTimeout(resolve, ms));
};
// =====================================================================================================================
//  E X P O R T
// =====================================================================================================================
build();
